[env:vaxtshus_tx]
platform  = espressif32@6.12.0
board     = seeed_xiao_esp32s3
framework = arduino

monitor_speed = 115200
upload_speed  = 921600
monitor_dtr   = 0
monitor_rts   = 0

; Låt PIO hitta dina lokala bibliotek i monorepot
lib_deps =
  file://../..          ; pekar exakt på .../lib_lora
  jgromes/RadioLib @ ^6.6.0

lib_ldf_mode = deep+
; ta gärna bort lib_extra_dirs helt

; (valfritt) sätt porten, annars autodetekterar PIO
; upload_port  = /dev/serial/by-id/usb-Espressif_USB_JTAG_serial_debug_unit_98:3D:AE:61:42:20-if00
; monitor_port = /dev/serial/by-id/usb-Espressif_USB_JTAG_serial_debug_unit_98:3D:AE:61:42:20-if00

; --- LoRa-pins för XIAO ESP32-S3 + Wio-SX1262 ---
build_flags =
  -DLORA_CHIP_SX1262=1

  -DLORA_CS=41
  -DLORA_SCK=7
  -DLORA_MISO=8
  -DLORA_MOSI=9
  -DLORA_RST=42
  -DLORA_BUSY=40
  -DLORA_DIO1=39
  -DLORA_RFSW=38

  ; Radio-parametrar
  -DLORA_FREQ_HZ=868100000
  -DLORA_BW_KHZ=125
  -DLORA_SF=9
  -DLORA_CR=5
  -DLORA_PREAMBLE=8
  -DLORA_SYNCWORD=0x34
  -DLORA_TX_DBM=2
  -DLORA_CRC_ON=1

  ; Viktigt för Wio-SX1262: TCXO på DIO3 (~3.0 V vid 3.3 V VCC)
  -DLORA_TCXO_MV=3000

  ; (valfritt felsök) Om din modul kräver DIO2 som RF-switch:
  ; -DLORA_DIO2_RFSW=1

  ; (valfritt) Tvinga LDO istället för DCDC om du vill prova:
  ; -DLORA_USE_LDO=1

